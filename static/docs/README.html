<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-08-25 нд 13:01 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Planning Poker</title>
<meta name="author" content="avkoval (ok)" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Planning Poker</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org2e1864d">What is this</a></li>
<li><a href="#orge46332c">Install</a></li>
<li><a href="#org8c1b7cb">Setup</a>
<ul>
<li><a href="#org2404358">Available settings</a></li>
</ul>
</li>
<li><a href="#orga0112f6">Run</a></li>
<li><a href="#orge464bc0">WORKING Planning poker for Fieldhub</a>
<ul>
<li><a href="#org1d769b1">Technical design &amp; architecture</a>
<ul>
<li><a href="#orgd47f8b7"><span class="done DONE">DONE</span> View practically, Kit, Uix &amp; bootstrap the project</a></li>
<li><a href="#orgf39f6c1"><span class="todo TODO">TODO</span> use FastAPI! use Google auth &amp; ready Jira integration I have!</a></li>
<li><a href="#org2249d35"><span class="todo TODO">TODO</span> Use websocket for fast communication!</a></li>
</ul>
</li>
<li><a href="#org277cb4d"><span class="todo TODO">TODO</span> UI functional implementation <code>[0/6]</code></a></li>
<li><a href="#orgff1b8d4"><span class="done DONE">DONE</span> Bootstrap: FastAPI + UIx^2 in one folder &amp; dev/prod start/deploy/+sentry/+logging</a></li>
<li><a href="#org405463c"><span class="done DONE">DONE</span> Google auth &amp; JWT token (or session cookie)</a></li>
<li><a href="#org024bd4e"><span class="todo TODO">TODO</span> add running via bb.edn</a></li>
<li><a href="#org1c2cdb8"><span class="todo TODO">TODO</span> Search for ticket (Estimate ticket screen) <code>[0/7]</code></a></li>
<li><a href="#orga62eca3"><span class="todo TODO">TODO</span> List tickets from Jira by search criteria</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org2e1864d" class="outline-2">
<h2 id="org2e1864d">What is this</h2>
<div class="outline-text-2" id="text-org2e1864d">
<p>
I am playing with technology and trying new things. Because JIRA does not provide
such functionality out of the box, I would like to develop SPA to play it with my
team. I am aware about tons of similar products existing in this area, never seen
any of them, and actually the work I do here is mostly for my personal skills 
development.
</p>
</div>
</div>
<div id="outline-container-orge46332c" class="outline-2">
<h2 id="orge46332c">Install</h2>
</div>

<div id="outline-container-org8c1b7cb" class="outline-2">
<h2 id="org8c1b7cb">Setup</h2>
<div class="outline-text-2" id="text-org8c1b7cb">
<p>
Copy &amp; edit contents of .env file: setup variables
</p>

<pre class="example" id="org617a9fd">
cp .env-example .env
</pre>

<p>
To do this you will need to create Google Project and obtain Oauth authorization keys.
</p>
</div>
<div id="outline-container-org2404358" class="outline-3">
<h3 id="org2404358">Available settings</h3>
<div class="outline-text-3" id="text-org2404358">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Variable name</th>
<th scope="col" class="org-left">Documentation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">GOOGLE_CLIENT_ID=&#x2026;</td>
<td class="org-left">Google Oauth credentials</td>
</tr>

<tr>
<td class="org-left">GOOGLE_CLIENT_SECRET=&#x2026;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">SECRET_KEY=&#x2026;</td>
<td class="org-left">Put some random data</td>
</tr>

<tr>
<td class="org-left">ALLOWED_EMAIL_DOMAINS=&#x2026;</td>
<td class="org-left">Restrict domains list (for example list here only organization domains). If empty - all domains are allowed</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-orga0112f6" class="outline-2">
<h2 id="orga0112f6">Run</h2>
<div class="outline-text-2" id="text-orga0112f6">
<pre class="example" id="org4ff0746">
poetry run fastapi dev backend/main.py
</pre>

<p>
(if you have babashka installed):
</p>
<pre class="example" id="org554c691">
bb run fastapi
</pre>
</div>
</div>
<div id="outline-container-orge464bc0" class="outline-2">
<h2 id="orge464bc0">WORKING Planning poker for Fieldhub</h2>
<div class="outline-text-2" id="text-orge464bc0">
</div>
<div id="outline-container-org1d769b1" class="outline-3">
<h3 id="org1d769b1">Technical design &amp; architecture</h3>
<div class="outline-text-3" id="text-org1d769b1">
</div>
<div id="outline-container-orgd47f8b7" class="outline-4">
<h4 id="orgd47f8b7"><span class="done DONE">DONE</span> View practically, Kit, Uix &amp; bootstrap the project</h4>
<div class="outline-text-4" id="text-orgd47f8b7">
<ul class="org-ul">
<li class="on"><code>[X]</code> Decided to use FastCGI instead of Kit in this round (<span class="timestamp-wrapper"><span class="timestamp">[2024-08-17 сб 11:20]</span></span>). Reasons:
<ul class="org-ul">
<li>I already know how to use Jira integtration with Python</li>
<li>I want to gain some FastAPI experience</li>
</ul></li>
<li class="on"><code>[X]</code> <p>
How to add ReFrame? 11:29.44 (00:08) Found, explained in: <a href="https://github.com/pitch-io/uix-starter">https://github.com/pitch-io/uix-starter</a>
</p>
<pre class="example" id="orgca6db9b">
npx create-uix-app@latest my-app --re-frame # adds re-frame setup
</pre></li>
<li class="on"><code>[X]</code> View (again) <a href="https://www.youtube.com/watch?v=4vgrLHsD0-I&amp;t=3s">intro video from Roman Liutikov</a></li>
<li class="on"><code>[X]</code> Re-try modern React tutorial</li>
<li class="on"><code>[X]</code> Start learning Udemy React course, take some first lessons</li>
</ul>
</div>
</div>
<div id="outline-container-orgf39f6c1" class="outline-4">
<h4 id="orgf39f6c1"><span class="todo TODO">TODO</span> use FastAPI! use Google auth &amp; ready Jira integration I have!</h4>
<div class="outline-text-4" id="text-orgf39f6c1">
<ul class="org-ul">
<li><a href="https://google-auth.readthedocs.io/en/master/">https://google-auth.readthedocs.io/en/master/</a></li>
<li><a href="https://github.com/hanchon-live/tutorial-fastapi-oauth">https://github.com/hanchon-live/tutorial-fastapi-oauth</a></li>
<li><a href="https://blog.hanchon.live/guides/google-login-with-fastapi/">https://blog.hanchon.live/guides/google-login-with-fastapi/</a> (following)</li>
<li><a href="https://docs.authlib.org/en/latest/client/starlette.html">https://docs.authlib.org/en/latest/client/starlette.html</a> (works)</li>
</ul>
</div>
</div>
<div id="outline-container-org2249d35" class="outline-4">
<h4 id="org2249d35"><span class="todo TODO">TODO</span> Use websocket for fast communication!</h4>
<div class="outline-text-4" id="text-org2249d35">
<ul class="org-ul">
<li>FastAPI provides support:</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org277cb4d" class="outline-3">
<h3 id="org277cb4d"><span class="todo TODO">TODO</span> UI functional implementation <code>[0/6]</code></h3>
<div class="outline-text-3" id="text-org277cb4d">
<ul class="org-ul">
<li>SPA - one screen on UIx</li>
<li class="off"><code>[&#xa0;]</code> List logged in users</li>
<li class="off"><code>[&#xa0;]</code> Set color for facilitator?
<ul class="org-ul">
<li>how to agree who is facilitator? may be anyone can? probably yes, but then warn on top who started it</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> Countdown timer (configuration for length) starts</li>
<li class="off"><code>[&#xa0;]</code> List of SPs (configuration)</li>
<li class="off"><code>[&#xa0;]</code> Strike for users who voted</li>
<li class="off"><code>[&#xa0;]</code> Reveal cards with some visual effect</li>
</ul>
</div>
</div>
<div id="outline-container-orgff1b8d4" class="outline-3">
<h3 id="orgff1b8d4"><span class="done DONE">DONE</span> Bootstrap: FastAPI + UIx^2 in one folder &amp; dev/prod start/deploy/+sentry/+logging</h3>
<div class="outline-text-3" id="text-orgff1b8d4">
<ul class="org-ul">
<li class="on"><code>[X]</code> Install fastapi via poetry</li>
<li class="on"><code>[X]</code> Bootstrap UIX^2 project</li>
<li class="on"><code>[X]</code> Add/commit to git</li>
<li class="off"><code>[&#xa0;]</code> Publish on github</li>
</ul>
</div>
</div>
<div id="outline-container-org405463c" class="outline-3">
<h3 id="org405463c"><span class="done DONE">DONE</span> Google auth &amp; JWT token (or session cookie)</h3>
<div class="outline-text-3" id="text-org405463c">
</div>
</div>
<div id="outline-container-org024bd4e" class="outline-3">
<h3 id="org024bd4e"><span class="todo TODO">TODO</span> add running via bb.edn</h3>
<div class="outline-text-3" id="text-org024bd4e">
<ul class="org-ul">
<li>Finish watching <a href="https://www.youtube.com/watch?v=u5ECoR7KT1Y">Babashka tasks (by Michiel Borkent)</a> from <i>The London Clojurians are happy to present 3 years ago</i></li>
</ul>
</div>
</div>
<div id="outline-container-org1c2cdb8" class="outline-3">
<h3 id="org1c2cdb8"><span class="todo TODO">TODO</span> Search for ticket (Estimate ticket screen) <code>[0/7]</code></h3>
<div class="outline-text-3" id="text-org1c2cdb8">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Select library to make HTTP calls.
<ul class="org-ul">
<li>Trying <a href="https://github.com/lambdaisland/fetch">https://github.com/lambdaisland/fetch</a></li>
<li>(this is an alternative to try) <a href="https://github.com/r0man/cljs-http?tab=readme-ov-file">https://github.com/r0man/cljs-http?tab=readme-ov-file</a></li>
<li>some people suggest to use Axios directly from Clojurescript.</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> Make a stub function on FastAPI side for now.</li>
<li class="off"><code>[&#xa0;]</code> Do a call via function</li>
<li class="off"><code>[&#xa0;]</code> Connect results it via <code>use-effect</code> or somehow else? Read docs and do!</li>
<li class="off"><code>[&#xa0;]</code> Write async python function with results caching on FastAPI</li>
<li class="off"><code>[&#xa0;]</code> Fine tune the display results</li>
<li class="off"><code>[&#xa0;]</code> Enter - key event or Mouse on-click on the item - change the screen to the voting</li>
</ul>
</div>
</div>
<div id="outline-container-orga62eca3" class="outline-3">
<h3 id="orga62eca3"><span class="todo TODO">TODO</span> List tickets from Jira by search criteria</h3>
<div class="outline-text-3" id="text-orga62eca3">
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: avkoval (ok)</p>
<p class="date">Created: 2024-08-25 нд 13:01</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
